# nest_notes

# @ApiExcludeEndpoint decorator

The @ApiExcludeEndpoint() decorator in NestJS is used to exclude an endpoint from being exposed in the autogenerated API documentation.

Some key points:

1. NestJS uses the Swagger/OpenAPI spec to generate API docs for endpoints.
2. By default, all routes/endpoints are included in the docs.
3. Using @ApiExcludeEndpoint() before a controller decorator will exclude that whole controller's endpoints from the docs.
4. Applying it before a specific method decorator like @Get() will exclude only that endpoint.
For example:

@ApiExcludeEndpoint()
@Controller('users')
export class UsersController {

  @Get()
  findAll() {} // excluded from docs

  @Post()
  create() {} // excluded

}

OR:

@Controller('users')
export class UsersController {

  @Get() 
  findAll() {}

  @ApiExcludeEndpoint()
  @Get('profile')
  getProfile() {} // excluded

}

So in summary, @ApiExcludeEndpoint allows selectively excluding certain endpoints from being exposed in the auto-generated API docs. This is useful for hiding internal or unfinished API routes.

# The @InjectConnection() decorator in NestJS is used to inject a database connection into a service or controller. It comes from the @nestjs/typeorm package.

Some key points about @InjectConnection():

1. It is imported from '@nestjs/typeorm'
2. It allows injecting a TypeORM database connection instance into a class
3. The connection can then be used to work with repositories, run queries, etc.
4. The connection is provided by a TypeORM module registered in the Nest app
5. It injects the connection based on the class name by default
For example:

@Injectable()
export class UsersService {

  constructor(@InjectConnection() private connection: Connection) {}
  
  // use connection to call repositories  

}

and in the module

@Module({
  imports: [TypeOrmModule.forRoot(...)],
  providers: [UsersService]
})
export class AppModule {}

This injects the default app connection into UsersService.

You can also pass a connection name to inject a specific connection.

So @InjectConnection() provides easy access to a TypeORM connection instance for running queries, transactions etc.
